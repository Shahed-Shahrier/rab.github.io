<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Let's Talk | Contact</title>
  
  <!-- Performance: Preconnect to external resources -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="https://api.emailjs.com">
  
  <!-- Fonts with display=swap for faster rendering -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@1,400&family=Rakkas&family=Gajraj+One&display=swap">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&family=Raleway:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="contact.css" />
  
  <!-- EmailJS SDK - Load asynchronously -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js" defer></script>
</head>
<body style="margin: 0; padding: 0; overflow-x: hidden; width: 100%; box-sizing: border-box;">
    <!-- Top bar -->
    <div class="topbar">
      <div class="brand">
        <span class="glow white">Really</span>
        <span class="glow offwhite"> </span>
        <span class="glow white">Annoying</span>
        <span class="glow offwhite"> </span>
        <span class="glow fdfdfd">Bots (RAB)</span>
      </div>

     <button class="mobile-menu-toggle" aria-label="Toggle menu">☰</button>

     <nav class="nav">
  <a href="index.html" class="nav-link">Home</a>
  <a href="blog.html" class="nav-link">Blogs</a>

  <div class="nav-dropdown">
    <a href="#" class="nav-link dropdown-toggle">About <span class="down-icon">▼</span></a>
    <div class="dropdown-container">
      <a href="about.html" class="nav-link">About Us</a>
      <a href="our-team.html" class="nav-link">Our Team</a>
    </div>
  </div>

  <a href="achievements.html" class="nav-link">Achievements</a>
  <a href="contact.html" class="nav-link">Contact</a>
</nav>

    </div>
  <!-- Video Background - Optimized for performance -->
  <video autoplay muted loop playsinline class="video-bg" preload="metadata" loading="lazy">
    <source src=" 1029 (1).mp4" type="video/mp4">
    <source src=" background-video.webm" type="video/webm">
    <!-- Fallback if video doesn't load -->
  </video>
  
  <!-- Image Overlay on Video - Lazy loaded -->
  <div class="video-overlay-image">
    <img src=" Untitled design (2) (1).jpg" alt="Overlay" class="overlay-img" loading="lazy" decoding="async">
  </div>
  
  <section class="contact-section" style="width: 100%; max-width: 100vw; overflow-x: hidden; overflow-y: visible; box-sizing: border-box; display: flex; justify-content: center; align-items: center;">
    <div class="contact-container" style="width: 100%; max-width: 100vw; box-sizing: border-box; overflow-x: hidden; overflow-y: visible; margin: 0 auto;">
      
      <!-- Left info panel -->
      <div class="contact-info" style="width: 100%; max-width: 100%; box-sizing: border-box; overflow: visible;">
        <h1 class="contact-title">Let's Talk</h1>
        <p class="contact-description">
          Have some big idea or brand to develop and need help? Then reach out —
          we'd love to hear about your project and provide help.
        </p>

        <div class="contact-email">
          <h2>Email</h2>
          <div class="email-box">
            <p class="email-address">reallyannoyingbots@gmail.com</p>
          </div>
        </div>

        <div class="contact-socials">
          <h2>Socials</h2>
          <ul>
            <li><a href="#">LinkedIn</a></li>
            <li><a href="#">GitHub</a></li>
            <li><a href="#">Facebook</a></li>
          </ul>
        </div>
      </div>

      <!-- Right form -->
      <form id="contactForm" class="contact-form" style="width: 100%; max-width: 100%; box-sizing: border-box; overflow: visible; margin: 0 auto;">
        <label for="name">Name</label>
        <input type="text" id="name" name="name" placeholder="Your name" required />

        <label for="email">Email</label>
        <input type="email" id="email" name="email" placeholder="Your email" required />

        <label for="message">Message</label>
        <textarea id="message" name="message" placeholder="Your message" required></textarea>

        <button type="submit" id="submitBtn">Submit</button>
        <div id="formStatus" class="form-status"></div>
      </form>
    </div>
  </section>

  <script>
    // Mobile menu toggle
    const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
    const nav = document.querySelector('.nav');

    if (mobileMenuToggle && nav) {
      mobileMenuToggle.addEventListener('click', function(e) {
        e.stopPropagation();
        nav.classList.toggle('active');
        // Change icon when menu is open/closed
        if (nav.classList.contains('active')) {
          this.textContent = '✕';
        } else {
          this.textContent = '☰';
        }
      });

      // Close menu when clicking on a regular link (not dropdown toggle)
      const regularNavLinks = document.querySelectorAll('.nav-link:not(.dropdown-toggle), .dropdown-container .nav-link');
      regularNavLinks.forEach(link => {
        link.addEventListener('click', function() {
          if (window.innerWidth <= 768) {
            nav.classList.remove('active');
            mobileMenuToggle.textContent = '☰';
            // Also close dropdown when clicking a dropdown link
            const dropdown = document.querySelector('.nav-dropdown.active');
            if (dropdown) {
              dropdown.classList.remove('active');
            }
          }
        });
      });

      // Close menu when clicking outside
      document.addEventListener('click', function(event) {
        if (window.innerWidth <= 768) {
          if (!nav.contains(event.target) && !mobileMenuToggle.contains(event.target)) {
            nav.classList.remove('active');
            mobileMenuToggle.textContent = '☰';
            // Close dropdown too
            const dropdown = document.querySelector('.nav-dropdown.active');
            if (dropdown) {
              dropdown.classList.remove('active');
            }
          }
        }
      });
    }

    // Mobile dropdown toggle (for touch devices)
    const dropdownToggle = document.querySelector('.dropdown-toggle');
    const navDropdown = document.querySelector('.nav-dropdown');

    if (dropdownToggle && navDropdown) {
      // Handle both click and touch events
      const handleToggle = function(e) {
        if (window.innerWidth <= 768) {
          e.preventDefault();
          e.stopPropagation(); // Prevent closing the main menu
          navDropdown.classList.toggle('active');
        }
      };

      dropdownToggle.addEventListener('click', handleToggle);
      dropdownToggle.addEventListener('touchend', function(e) {
        handleToggle(e);
        e.stopPropagation();
      });

      // Close dropdown when clicking outside of it (but inside the nav menu)
      document.addEventListener('click', function(event) {
        if (window.innerWidth <= 768) {
          // If clicking on nav but not on dropdown elements, close dropdown
          if (nav && nav.contains(event.target)) {
            if (!navDropdown.contains(event.target) && navDropdown.classList.contains('active')) {
              // Only close if clicking on other nav items (not the dropdown area)
              if (!event.target.closest('.nav-dropdown')) {
                navDropdown.classList.remove('active');
              }
            }
          }
        }
      });
    }

    // Handle window resize - close dropdowns when switching to desktop
    window.addEventListener('resize', function() {
      if (window.innerWidth > 768) {
        const activeDropdown = document.querySelector('.nav-dropdown.active');
        if (activeDropdown) {
          activeDropdown.classList.remove('active');
        }
        if (nav && nav.classList.contains('active')) {
          nav.classList.remove('active');
          if (mobileMenuToggle) {
            mobileMenuToggle.textContent = '☰';
          }
        }
      }
    });

    // Initialize EmailJS - Only load when needed for better performance
    (function() {
      // Wait for EmailJS to be available (loaded with defer)
      if (typeof emailjs !== 'undefined') {
        emailjs.init('ediemz4uqyoQg01Av');
      } else {
        // Retry after a short delay if EmailJS hasn't loaded yet
        setTimeout(function() {
          if (typeof emailjs !== 'undefined') {
            emailjs.init('ediemz4uqyoQg01Av');
          }
        }, 500);
      }
    })();

    // Contact form submission
    const contactForm = document.getElementById('contactForm');
    const submitBtn = document.getElementById('submitBtn');
    const formStatus = document.getElementById('formStatus');

    if (contactForm) {
      contactForm.addEventListener('submit', async function(e) {
        e.preventDefault();

        // Get form values
        const name = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim();
        const message = document.getElementById('message').value.trim();

        // Basic validation
        if (!name || !email || !message) {
          formStatus.textContent = '✗ Please fill in all fields.';
          formStatus.className = 'form-status error';
          return;
        }

        // Show loading state
        const originalBtnText = submitBtn.textContent;
        submitBtn.textContent = 'Sending...';
        submitBtn.disabled = true;
        formStatus.textContent = '';
        formStatus.className = 'form-status';

        try {
          // Send email using EmailJS
          const templateParams = {
            from_name: name,
            from_email: email,
            message: message,
            to_email: 'reallyannoyingbots@gmail.com',
            reply_to: email
          };
          
          console.log('Sending email with params:', templateParams);
          console.log('Using Service ID: service_k9xhfuf');
          console.log('Using Template ID: template_lcv2hpk');
          
          const response = await emailjs.send(
            'service_k9xhfuf',  // Your EmailJS Service ID
            'template_lcv2hpk', // Your EmailJS Template ID
            templateParams
          );
          
          console.log('Email sent successfully:', response);

          // Success
          submitBtn.textContent = originalBtnText;
          submitBtn.disabled = false;
          formStatus.textContent = '✓ Message sent successfully! We\'ll get back to you soon.';
          formStatus.className = 'form-status success';
          
          // Reset form
          contactForm.reset();

          // Clear success message after 5 seconds
          setTimeout(() => {
            formStatus.textContent = '';
            formStatus.className = 'form-status';
          }, 5000);

        } catch (error) {
          // Error
          submitBtn.textContent = originalBtnText;
          submitBtn.disabled = false;
          
          // Show detailed error message for debugging
          let errorMessage = '✗ Failed to send message. ';
          if (error.text) {
            errorMessage += error.text;
          } else if (error.message) {
            errorMessage += error.message;
          } else {
            errorMessage += 'Please check your EmailJS configuration or email us directly at reallyannoyingbots@gmail.com';
          }
          
          formStatus.textContent = errorMessage;
          formStatus.className = 'form-status error';
          
          // Log full error details to console
          console.error('EmailJS Error Details:', {
            status: error.status,
            text: error.text,
            message: error.message,
            fullError: error
          });
        }
      });
    }
  </script>
</body>
</html>
